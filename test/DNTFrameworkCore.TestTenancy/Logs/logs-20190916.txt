2019-09-16 16:49:04.980 +00:00 [Information] DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 16:49:41.158 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 16:49:48.217 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:49:48.217 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:49:51.517 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 16:49:51.524 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 16:49:51.535 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 16:49:51.548 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 16:49:51.679 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (133ms) [Parameters=[@p0='b95d03cd-e484-4930-0524-08d73ac5e46b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 16:48:50.637 +00:00 [Information] DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T16:48:50.6374022+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 16:49:51.993 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 16:49:52.067 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 16:49:52.135 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 16:49:52.148 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 16:49:52.249 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 16:49:52.296 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 16:49:52.305 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 16:49:52.359 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 16:49:52.365 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 16:49:52.420 +00:00 [Information] DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 16:49:52.498 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:49:52.519 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 16:49:52.868 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:49:53.180 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (167ms) [Parameters=[@p0='29a98ca1-60d9-4f14-0525-08d73ac5e46b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 16:49:52.134 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T16:49:52.1349673+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='c317bb34-a282-40e7-0526-08d73ac5e46b', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 16:49:52.148 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T16:49:52.1484451+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='35c50ced-d67c-472d-0527-08d73ac5e46b', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 16:49:52.359 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T16:49:52.3590908+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='1f3bc752-cd26-4cc7-0528-08d73ac5e46b', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestAPI.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 16:49:52.365 +00:00 [Information] DNTFrameworkCore.TestAPI.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T16:49:52.3655010+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='ff7701fb-10d3-4ee5-0529-08d73ac5e46b', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 16:49:52.420 +00:00 [Information] DNTFrameworkCore.TestAPI.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T16:49:52.4200755+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74);
2019-09-16 16:49:54.463 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 16:49:55.427 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:49:55.592 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[@p0='487a29f8-13e9-4436-052a-08d73ac5e46b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 16:49:54.463 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T16:49:54.4634419+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 16:49:55.721 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:4001/swagger/index.html  
2019-09-16 16:49:56.475 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 754.9699ms 200 text/html
2019-09-16 16:49:57.016 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:4001/swagger/v1/swagger.json  
2019-09-16 16:49:57.863 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 847.3062ms 200 application/json;charset=utf-8
2019-09-16 16:50:26.900 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 POST https://localhost:4001/api/auth/login application/json 45
2019-09-16 16:50:26.916 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestAPI.Controllers.AuthController.Login (DNTFrameworkCore.TestAPI)'
2019-09-16 16:50:26.997 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(DNTFrameworkCore.TestAPI.Models.LoginModel) on controller DNTFrameworkCore.TestAPI.Controllers.AuthController (DNTFrameworkCore.TestAPI).
2019-09-16 16:50:27.011 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:50:27.138 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [1] : Executing action method DNTFrameworkCore.TestAPI.Controllers.AuthController.Login (DNTFrameworkCore.TestAPI) - Validation state: Valid
2019-09-16 16:50:27.182 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [x].[Id], [x].[CreationDateTime], [x].[CreatorBrowserName], [x].[CreatorIp], [x].[CreatorUserId], [x].[DisplayName], [x].[IsActive], [x].[LastLoggedInDateTime], [x].[ModificationDateTime], [x].[ModifierBrowserName], [x].[ModifierIp], [x].[ModifierUserId], [x].[NormalizedDisplayName], [x].[NormalizedUserName], [x].[PasswordHash], [x].[SerialNumber], [x].[UserName], [x].[Version]
FROM [User] AS [x]
WHERE [x].[NormalizedUserName] = @__normalizedUserName_0
2019-09-16 16:50:27.366 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[Id] = @__userId_0
ORDER BY [u].[Id]
2019-09-16 16:50:27.437 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (19ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[Id] = @__userId_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 16:50:27.459 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [u.Claims].[Id], [u.Claims].[ClaimType], [u.Claims].[ClaimValue], [u.Claims].[ModificationDateTime], [u.Claims].[ModifierBrowserName], [u.Claims].[ModifierIp], [u.Claims].[ModifierUserId], [u.Claims].[UserId]
FROM [UserClaim] AS [u.Claims]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[Id] = @__userId_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Claims].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 16:50:27.679 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [role].[Id], [role].[CreationDateTime], [role].[CreatorBrowserName], [role].[CreatorIp], [role].[CreatorUserId], [role].[Description], [role].[ModificationDateTime], [role].[ModifierBrowserName], [role].[ModifierIp], [role].[ModifierUserId], [role].[Name], [role].[NormalizedName], [role].[Version]
FROM [Role] AS [role]
INNER JOIN [UserRole] AS [role.Users] ON [role].[Id] = [role.Users].[RoleId]
WHERE [role.Users].[UserId] = @__userId_0
ORDER BY [role].[Name], [role].[Id]
2019-09-16 16:50:27.704 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [role.Permissions].[Id], [role.Permissions].[Discriminator], [role.Permissions].[IsGranted], [role.Permissions].[ModificationDateTime], [role.Permissions].[ModifierBrowserName], [role.Permissions].[ModifierIp], [role.Permissions].[ModifierUserId], [role.Permissions].[Name], [role.Permissions].[RoleId]
FROM [Permission] AS [role.Permissions]
INNER JOIN (
    SELECT DISTINCT [role0].[Id], [role0].[Name]
    FROM [Role] AS [role0]
    INNER JOIN [UserRole] AS [role.Users0] ON [role0].[Id] = [role.Users0].[RoleId]
    WHERE [role.Users0].[UserId] = @__userId_0
) AS [t] ON [role.Permissions].[RoleId] = [t].[Id]
WHERE [role.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Name], [t].[Id]
2019-09-16 16:50:27.730 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (16ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [role.Claims].[Id], [role.Claims].[ClaimType], [role.Claims].[ClaimValue], [role.Claims].[ModificationDateTime], [role.Claims].[ModifierBrowserName], [role.Claims].[ModifierIp], [role.Claims].[ModifierUserId], [role.Claims].[RoleId]
FROM [RoleClaim] AS [role.Claims]
INNER JOIN (
    SELECT DISTINCT [role1].[Id], [role1].[Name]
    FROM [Role] AS [role1]
    INNER JOIN [UserRole] AS [role.Users1] ON [role1].[Id] = [role.Users1].[RoleId]
    WHERE [role.Users1].[UserId] = @__userId_0
) AS [t0] ON [role.Claims].[RoleId] = [t0].[Id]
ORDER BY [t0].[Name], [t0].[Id]
2019-09-16 16:50:27.834 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT [x].[Id], [x].[TokenExpirationDateTime], [x].[TokenHash], [x].[UserId]
FROM [UserToken] AS [x]
WHERE [x].[UserId] = @__userId_0
2019-09-16 16:50:27.917 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (16ms) [Parameters=[@p0='8'], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
DELETE FROM [UserToken]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2019-09-16 16:50:27.930 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[@p0='2019-09-17T16:50:27.8035176+00:00', @p1='q52l6FtzDSWxdTO09u4KUjDlUjwUKp5sYIQ+OWoWVS8=' (Nullable = false) (Size = 256), @p2='1'], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [UserToken] ([TokenExpirationDateTime], [TokenHash], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [UserToken]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-09-16 16:50:27.995 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action method DNTFrameworkCore.TestAPI.Controllers.AuthController.Login (DNTFrameworkCore.TestAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 850.7375ms.
2019-09-16 16:50:28.015 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type 'DNTFrameworkCore.TestAPI.Authentication.Token'.
2019-09-16 16:50:28.027 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestAPI.Controllers.AuthController.Login (DNTFrameworkCore.TestAPI) in 1023.1968ms
2019-09-16 16:50:28.033 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestAPI.Controllers.AuthController.Login (DNTFrameworkCore.TestAPI)'
2019-09-16 16:50:28.044 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 1144.0049ms 200 application/json; charset=utf-8
2019-09-16 16:50:33.564 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:4001/api/users  
2019-09-16 16:50:33.620 +00:00 [Information] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler [2] : Successfully validated the token.
2019-09-16 16:50:33.626 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 16:50:33.655 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[@__userId_0='1'], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[Id] = @__userId_0
2019-09-16 16:50:33.684 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__tokenHash_0='q52l6FtzDSWxdTO09u4KUjDlUjwUKp5sYIQ+OWoWVS8=' (Size = 256), @__userId_1='1'], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [x].[Id], [x].[TokenExpirationDateTime], [x].[TokenHash], [x].[UserId]
FROM [UserToken] AS [x]
WHERE ([x].[TokenHash] = @__tokenHash_0) AND ([x].[UserId] = @__userId_1)
2019-09-16 16:50:33.700 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestAPI.Controllers.UsersController.Get (DNTFrameworkCore.TestAPI)'
2019-09-16 16:50:33.711 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "Get", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(DNTFrameworkCore.Application.Models.FilteredPagedQueryModel) on controller DNTFrameworkCore.TestAPI.Controllers.UsersController (DNTFrameworkCore.TestAPI).
2019-09-16 16:50:33.731 +00:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService [1] : Authorization was successful.
2019-09-16 16:50:34.776 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [1] : Executing action method DNTFrameworkCore.TestAPI.Controllers.UsersController.Get (DNTFrameworkCore.TestAPI) - Validation state: Valid
2019-09-16 16:50:34.798 +00:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService [1] : Authorization was successful.
2019-09-16 16:50:34.988 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT COUNT_BIG(*)
FROM [User] AS [u]
2019-09-16 16:50:35.823 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='Text', CommandTimeout='180']
SELECT [u].[Id], [u].[IsActive], [u].[UserName], [u].[DisplayName], [u].[LastLoggedInDateTime]
FROM [User] AS [u]
ORDER BY [u].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2019-09-16 16:50:35.831 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action method DNTFrameworkCore.TestAPI.Controllers.UsersController.Get (DNTFrameworkCore.TestAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1052.2104ms.
2019-09-16 16:50:35.835 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type 'DNTFrameworkCore.Application.Models.PagedQueryResult`1[[DNTFrameworkCore.TestAPI.Application.Identity.Models.UserReadModel, DNTFrameworkCore.TestAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-09-16 16:50:35.849 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestAPI.Controllers.UsersController.Get (DNTFrameworkCore.TestAPI) in 2134.7531ms
2019-09-16 16:50:35.852 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestAPI.Controllers.UsersController.Get (DNTFrameworkCore.TestAPI)'
2019-09-16 16:50:35.855 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 2291.4068ms 200 application/json; charset=utf-8
2019-09-16 19:09:27.751 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:09:27.999 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:09:28.053 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:09:28.180 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:09:28.183 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:09:28.187 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:09:28.193 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190916175841_V2019_09_16_2228'.
2019-09-16 19:09:28.299 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandError] : Failed executing DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Blog] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(50) NOT NULL,
    [NormalizedTitle] nvarchar(50) NOT NULL,
    [Url] nvarchar(50) NOT NULL,
    [Version] rowversion NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_Blog] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Blog' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:4fc40022-e24e-4261-a797-80defad3e5d1
Error Number:2714,State:6,Class:16
2019-09-16 19:09:28.330 +00:00 [Error] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : An error occurred while migrating the database used on context ProjectDbContext
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Blog' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at DNTFrameworkCore.Web.EFCore.WebHostExtensions.MigrateDbContext[TContext](IWebHost webHost) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.EFCore\WebHostExtensions.cs:line 26
ClientConnectionId:4fc40022-e24e-4261-a797-80defad3e5d1
Error Number:2714,State:6,Class:16
2019-09-16 19:09:28.369 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:09:28.512 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:10:04.111 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:10:04.427 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:10:04.484 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:10:05.006 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:10:14.578 +00:00 [Error] Microsoft.EntityFrameworkCore.Database.Connection [Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError] : An error occurred using the connection to database 'DNTFrameworkCoreTestTenancy' on server '.\SQLEXPRESS'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTestTenancy" requested by the login. The login failed.
Login failed for user 'DESKTOP-35G46UB\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
ClientConnectionId:69c0fd46-a8e4-40ea-bb0f-c6efb6478332
Error Number:4060,State:1,Class:11
2019-09-16 19:10:14.631 +00:00 [Error] Microsoft.EntityFrameworkCore.Update [Microsoft.EntityFrameworkCore.Update.SaveChangesFailed] : An exception occurred in the database while saving changes for context type 'DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTestTenancy" requested by the login. The login failed.
Login failed for user 'DESKTOP-35G46UB\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:69c0fd46-a8e4-40ea-bb0f-c6efb6478332
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "DNTFrameworkCoreTestTenancy" requested by the login. The login failed.
Login failed for user 'DESKTOP-35G46UB\SalarPC'.
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:69c0fd46-a8e4-40ea-bb0f-c6efb6478332
Error Number:4060,State:1,Class:11
2019-09-16 19:10:14.974 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (324ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE DATABASE [DNTFrameworkCoreTestTenancy];
2019-09-16 19:10:15.036 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [DNTFrameworkCoreTestTenancy] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-09-16 19:10:15.105 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[MigrationHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK_MigrationHistory] PRIMARY KEY ([MigrationId])
);
2019-09-16 19:10:15.110 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:10:15.112 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:10:15.118 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationApplying] : Applying migration '20190916175841_V2019_09_16_2228'.
2019-09-16 19:10:15.198 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Blog] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(50) NOT NULL,
    [NormalizedTitle] nvarchar(50) NOT NULL,
    [Url] nvarchar(50) NOT NULL,
    [Version] rowversion NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_Blog] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.200 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [NumberedEntity] (
    [Id] int NOT NULL IDENTITY,
    [EntityName] varchar(256) NOT NULL,
    [NextNumber] bigint NOT NULL,
    CONSTRAINT [PK_NumberedEntity] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.203 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Role] (
    [Id] bigint NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [NormalizedName] nvarchar(50) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Version] rowversion NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_Role] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.205 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Task] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(256) NOT NULL,
    [NormalizedTitle] nvarchar(256) NOT NULL,
    [Number] nvarchar(50) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [State] tinyint NOT NULL,
    [Version] rowversion NULL,
    [BranchId] bigint NOT NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_Task] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.208 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [User] (
    [Id] bigint NOT NULL IDENTITY,
    [UserName] nvarchar(256) NOT NULL,
    [NormalizedUserName] nvarchar(256) NOT NULL,
    [DisplayName] nvarchar(50) NOT NULL,
    [NormalizedDisplayName] nvarchar(50) NOT NULL,
    [PasswordHash] nvarchar(256) NOT NULL,
    [IsActive] bit NOT NULL,
    [LastLoggedInDateTime] datetimeoffset NULL,
    [Version] rowversion NULL,
    [SerialNumber] nvarchar(128) NOT NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.226 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Cache] (
    [Id] nvarchar(449) NOT NULL,
    [Value] varbinary(max) NOT NULL,
    [ExpiresAtTime] datetimeoffset NOT NULL,
    [SlidingExpirationInSeconds] bigint NULL,
    [AbsoluteExpiration] datetimeoffset NULL,
    CONSTRAINT [PK_Cache] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.230 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[Log] (
    [Id] uniqueidentifier NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [Level] nvarchar(50) NOT NULL,
    [Timestamp] datetimeoffset NOT NULL,
    [LoggerName] nvarchar(256) NOT NULL,
    [UserBrowserName] nvarchar(1024) NULL,
    [UserIP] nvarchar(256) NULL,
    [UserId] nvarchar(256) NULL,
    [UserName] nvarchar(50) NULL,
    [UserDisplayName] nvarchar(50) NULL,
    [TenantId] nvarchar(256) NULL,
    [TenantName] nvarchar(256) NULL,
    [ImpersonatorUserId] nvarchar(256) NULL,
    [ImpersonatorTenantId] nvarchar(256) NULL,
    [EventId] int NOT NULL,
    CONSTRAINT [PK_Log] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.233 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [dbo].[ProtectionKey] (
    [Id] bigint NOT NULL IDENTITY,
    [FriendlyName] nvarchar(450) NOT NULL,
    [XmlValue] nvarchar(max) NULL,
    CONSTRAINT [PK_ProtectionKey] PRIMARY KEY ([Id])
);
2019-09-16 19:10:15.237 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [RoleClaim] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [RoleId] bigint NOT NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_RoleClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RoleClaim_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE
);
2019-09-16 19:10:15.243 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [Permission] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [IsGranted] bit NOT NULL,
    [Discriminator] nvarchar(50) NOT NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    [RoleId] bigint NULL,
    [UserId] bigint NULL,
    CONSTRAINT [PK_Permission] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Permission_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Permission_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-09-16 19:10:15.247 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserClaim] (
    [Id] int NOT NULL IDENTITY,
    [ClaimType] nvarchar(256) NOT NULL,
    [ClaimValue] nvarchar(max) NOT NULL,
    [UserId] bigint NOT NULL,
    [ModificationDateTime] datetimeoffset NULL,
    [ModifierBrowserName] nvarchar(1024) NULL,
    [ModifierIp] nvarchar(256) NULL,
    [ModifierUserId] bigint NULL,
    CONSTRAINT [PK_UserClaim] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserClaim_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-09-16 19:10:15.250 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserRole] (
    [Id] int NOT NULL IDENTITY,
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    [CreationDateTime] datetimeoffset NOT NULL,
    [CreatorBrowserName] nvarchar(1024) NULL,
    [CreatorIp] nvarchar(256) NULL,
    [CreatorUserId] bigint NULL,
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRole_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-09-16 19:10:15.252 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [TokenHash] nvarchar(256) NOT NULL,
    [TokenExpirationDateTime] datetimeoffset NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserToken_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [User] ([Id]) ON DELETE CASCADE
);
2019-09-16 19:10:15.255 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [Blog_NormalizedTitle] ON [Blog] ([NormalizedTitle]);
2019-09-16 19:10:15.256 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_NumberedEntity_EntityName] ON [NumberedEntity] ([EntityName]);
2019-09-16 19:10:15.257 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_Discriminator] ON [Permission] ([Discriminator]);
2019-09-16 19:10:15.275 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_RoleId] ON [Permission] ([RoleId]);
2019-09-16 19:10:15.277 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Permission_UserId] ON [Permission] ([UserId]);
2019-09-16 19:10:15.279 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_Role_NormalizedName] ON [Role] ([NormalizedName]);
2019-09-16 19:10:15.281 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_RoleClaim_RoleId] ON [RoleClaim] ([RoleId]);
2019-09-16 19:10:15.282 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_Task_NormalizedTitle] ON [Task] ([NormalizedTitle]);
2019-09-16 19:10:15.283 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [UIX_Task_Number_BranchId] ON [Task] ([Number], [BranchId]);
2019-09-16 19:10:15.284 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedDisplayName] ON [User] ([NormalizedDisplayName]);
2019-09-16 19:10:15.285 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE UNIQUE INDEX [UIX_User_NormalizedUserName] ON [User] ([NormalizedUserName]);
2019-09-16 19:10:15.285 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserClaim_UserId] ON [UserClaim] ([UserId]);
2019-09-16 19:10:15.287 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_RoleId] ON [UserRole] ([RoleId]);
2019-09-16 19:10:15.288 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserRole_UserId] ON [UserRole] ([UserId]);
2019-09-16 19:10:15.289 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_TokenHash] ON [UserToken] ([TokenHash]);
2019-09-16 19:10:15.290 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_UserToken_UserId] ON [UserToken] ([UserId]);
2019-09-16 19:10:15.292 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Cache_ExpiresAtTime] ON [dbo].[Cache] ([ExpiresAtTime]);
2019-09-16 19:10:15.293 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
CREATE INDEX [IX_Log_Level] ON [dbo].[Log] ([Level]);
2019-09-16 19:11:49.041 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:11:49.314 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:11:49.378 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:11:49.521 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:11:49.524 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:11:49.528 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:11:49.534 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:11:49.748 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:11:49.830 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:11:49.872 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:11:49.875 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:11:49.901 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:11:49.983 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:11:50.070 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (13ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:11:50.088 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (12ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:11:50.122 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:11:50.123 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:11:50.173 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (21ms) [Parameters=[@p0='b07463eb-bcbe-4b86-e6c6-08d73ad9ba04', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:11:49.030 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:11:49.0309571+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:11:50.182 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='720f8136-8229-4dfc-e6c7-08d73ad9ba04', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:11:49.872 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:11:49.8727197+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:11:50.184 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='ecfbb8c4-af5e-4b18-e6c8-08d73ad9ba04', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:11:49.875 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:11:49.8752763+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:11:50.204 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:11:50.277 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:11:50.321 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:11:50.802 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:11:51.400 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:11:51.483 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (64ms) [Parameters=[@p0='e3a00439-cf34-4308-e6c9-08d73ad9ba04', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:11:50.122 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:11:50.1222452+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='d87964c0-4804-498d-e6ca-08d73ad9ba04', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:11:50.123 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:11:50.1231053+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='d2cedb85-cf8d-448b-e6cb-08d73ad9ba04', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p36='2019-09-16 19:11:50.204 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:11:50.2045779+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='a7e2d68f-e682-4bc7-e6cc-08d73ad9ba04', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p51='2019-09-16 19:11:50.802 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:11:50.8029204+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
2019-09-16 19:11:51.599 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger  
2019-09-16 19:11:51.855 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 256.3268ms 301 
2019-09-16 19:11:51.856 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:11:52.287 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 430.5178ms 200 text/html
2019-09-16 19:11:52.321 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui.css  
2019-09-16 19:11:52.321 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-bundle.js  
2019-09-16 19:11:52.337 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/swagger-ui-standalone-preset.js  
2019-09-16 19:11:52.404 +00:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware [2] : Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2019-09-16 19:11:52.417 +00:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware [2] : Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2019-09-16 19:11:52.425 +00:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware [2] : Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2019-09-16 19:11:52.437 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 99.5806ms 200 application/javascript
2019-09-16 19:11:52.437 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 115.4167ms 200 application/javascript
2019-09-16 19:11:52.437 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 115.4626ms 200 text/css
2019-09-16 19:11:52.798 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json  
2019-09-16 19:11:52.859 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/favicon-32x32.png  
2019-09-16 19:11:52.860 +00:00 [Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware [2] : Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-09-16 19:11:52.860 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 0.8272ms 200 image/png
2019-09-16 19:11:53.059 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 261.3622ms 200 application/json;charset=utf-8
2019-09-16 19:14:27.162 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:14:27.419 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:14:27.477 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:14:27.605 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:14:27.608 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:14:27.612 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:14:27.617 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:14:27.816 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:14:27.894 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:14:27.939 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:14:27.942 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:14:27.994 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:14:28.018 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (19ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:14:28.088 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:14:28.102 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:14:28.133 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:14:28.133 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:14:28.225 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (18ms) [Parameters=[@p0='9d2c971a-ccf7-4572-59cf-08d73ada183e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:14:27.151 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:14:27.1510097+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:14:28.226 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:14:28.235 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='8c3d347c-c534-4271-59d0-08d73ada183e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:14:27.939 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:14:27.9394205+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:14:28.237 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='4d34a078-9813-4668-59d1-08d73ada183e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:14:27.941 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:14:27.9419934+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:14:28.272 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:14:28.292 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:14:28.593 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:14:29.327 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:14:29.360 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (19ms) [Parameters=[@p0='a1024435-c422-4043-59d2-08d73ada183e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:14:28.133 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:14:28.1335042+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='bed3c6a5-3bb3-406a-59d3-08d73ada183e', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:14:28.133 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:14:28.1339299+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='02626741-9ea9-4502-59d4-08d73ada183e', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p36='2019-09-16 19:14:28.225 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:14:28.2259779+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='439600c6-4516-44cf-59d5-08d73ada183e', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p51='2019-09-16 19:14:28.593 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:14:28.5937630+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
2019-09-16 19:14:29.519 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:14:29.915 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 395.629ms 200 text/html
2019-09-16 19:14:30.377 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json  
2019-09-16 19:14:30.650 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 272.6444ms 200 application/json;charset=utf-8
2019-09-16 19:14:47.432 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/api/FrontEnd/TenantInfo  
2019-09-16 19:14:47.438 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:14:47.465 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "TenantInfo", controller = "FrontEnd"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TenantInfo() on controller DNTFrameworkCore.TestTenancy.Controllers.FrontEndController (DNTFrameworkCore.TestTenancy).
2019-09-16 19:14:47.508 +00:00 [Error] DNTFrameworkCore.Web.Filters.HandleExceptionFilter [-2146233079] : Unable to resolve service for type 'DNTFrameworkCore.Tenancy.ITenantSession' while attempting to activate 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController'.
System.InvalidOperationException: Unable to resolve service for type 'DNTFrameworkCore.Tenancy.ITenantSession' while attempting to activate 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-09-16 19:14:47.596 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-16 19:14:47.615 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) in 147.381ms
2019-09-16 19:14:47.616 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:14:47.617 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 185.1536ms 500 application/json; charset=utf-8
2019-09-16 19:14:47.651 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:14:47.654 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='ff1a42fb-d87e-4005-59d6-08d73ada183e', @p1='-2146233079', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Error' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Filters.HandleExceptionFilter' (Nullable = false) (Size = 256), @p6='2019-09-16 19:14:47.479 +00:00 [Error] DNTFrameworkCore.Web.Filters.HandleExceptionFilter [-2146233079] : Unable to resolve service for type 'DNTFrameworkCore.Tenancy.ITenantSession' while attempting to activate 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController'.
System.InvalidOperationException: Unable to resolve service for type 'DNTFrameworkCore.Tenancy.ITenantSession' while attempting to activate 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:14:47.4794210+00:00', @p10='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.75 Safari/537.36' (Size = 1024), @p11='' (Size = 50), @p12='::1' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:16:13.584 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:16:13.899 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:16:13.983 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:16:14.143 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:16:14.150 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:16:14.161 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:16:14.174 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:16:14.434 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:16:14.456 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:16:14.607 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:16:14.694 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:16:14.699 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:16:14.732 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (20ms) [Parameters=[@p0='be543b9d-7275-478b-0093-08d73ada57b0', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:16:13.575 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:16:13.5755221+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:16:14.802 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:16:14.862 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:16:14.872 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:16:14.891 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:16:14.892 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:16:14.941 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:16:14.974 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:16:14.990 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:16:15.292 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:16:15.745 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:16:15.846 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:16:15.865 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@p0='c335162f-0f10-4572-0094-08d73ada57b0', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:16:14.694 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:16:14.6944468+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='252961e7-a6d7-494d-0095-08d73ada57b0', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:16:14.698 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:16:14.6989774+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='5c9fdc27-d025-401a-0096-08d73ada57b0', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:16:14.891 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:16:14.8918798+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='98386990-ed71-402a-0097-08d73ada57b0', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:16:14.892 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:16:14.8921975+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='136d0465-40a2-46b9-0098-08d73ada57b0', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:16:14.941 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:16:14.9415884+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50), @p75='d6ec0316-8b6f-4972-0099-08d73ada57b0', @p76='0', @p77='' (Size = 256), @p78='' (Size = 256), @p79='Information' (Nullable = false) (Size = 50), @p80='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p81='2019-09-16 19:16:15.292 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p82='' (Size = 256), @p83='' (Size = 256), @p84='2019-09-16T19:16:15.2924766+00:00', @p85='' (Size = 1024), @p86='' (Size = 50), @p87='' (Size = 256), @p88='' (Size = 256), @p89='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89);
2019-09-16 19:16:16.208 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 462.3309ms 200 text/html
2019-09-16 19:16:16.664 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json  
2019-09-16 19:16:16.969 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 304.5773ms 200 application/json;charset=utf-8
2019-09-16 19:16:24.389 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/api/FrontEnd/TenantInfo  
2019-09-16 19:16:24.395 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:16:24.431 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "TenantInfo", controller = "FrontEnd"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TenantInfo() on controller DNTFrameworkCore.TestTenancy.Controllers.FrontEndController (DNTFrameworkCore.TestTenancy).
2019-09-16 19:16:24.451 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [1] : Executing action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) - Validation state: Valid
2019-09-16 19:16:24.458 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.823ms.
2019-09-16 19:16:24.468 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type 'null'.
2019-09-16 19:16:24.472 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) in 36.8332ms
2019-09-16 19:16:24.473 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:16:24.475 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 86.2664ms 204 
2019-09-16 19:16:33.661 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/api/FrontEnd/TenantInfo  
2019-09-16 19:16:33.664 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:16:33.664 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "TenantInfo", controller = "FrontEnd"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TenantInfo() on controller DNTFrameworkCore.TestTenancy.Controllers.FrontEndController (DNTFrameworkCore.TestTenancy).
2019-09-16 19:16:33.664 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [1] : Executing action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) - Validation state: Valid
2019-09-16 19:16:33.665 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0156ms.
2019-09-16 19:16:33.665 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type 'null'.
2019-09-16 19:16:33.665 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) in 0.6219ms
2019-09-16 19:16:33.665 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:16:33.665 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 3.6958ms 204 
2019-09-16 19:17:08.935 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:17:09.454 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:17:09.597 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:17:09.597 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:17:09.978 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:17:09.988 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:17:09.997 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:17:10.012 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:17:10.064 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (55ms) [Parameters=[@p0='91b52dc5-dd12-4185-c7e1-08d73ada7899', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:17:08.869 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:17:08.8699941+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:17:10.462 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:17:10.531 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:17:10.591 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:17:10.597 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:17:10.704 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:17:10.738 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:17:10.747 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:17:10.767 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:17:10.770 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:17:10.820 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:17:10.884 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:17:10.904 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:17:11.239 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:17:11.260 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@p0='b418ef90-e060-4fea-c7e2-08d73ada7899', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:17:10.591 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:17:10.5911514+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='512630b3-15ae-45ef-c7e3-08d73ada7899', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:17:10.597 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:17:10.5972166+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='91f031d4-f2a1-4fd4-c7e4-08d73ada7899', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:17:10.767 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:17:10.7676932+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='c1257234-1296-4b14-c7e5-08d73ada7899', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:17:10.770 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:17:10.7708938+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='d7995c6f-7ed3-40be-c7e6-08d73ada7899', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:17:10.820 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:17:10.8202678+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74);
2019-09-16 19:17:11.627 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:17:12.403 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:17:12.434 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[@p0='7ea244aa-ed23-40ac-c7e7-08d73ada7899', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 19:17:11.627 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:17:11.6274271+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:17:12.480 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:21:32.964 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:21:33.629 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:21:33.768 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:21:33.768 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:21:34.207 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:21:34.214 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:21:34.226 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:21:34.237 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:21:34.282 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (39ms) [Parameters=[@p0='59849db9-cfe7-41a1-91f9-08d73adb160b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:21:32.880 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:21:32.8803069+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:21:34.659 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:21:34.734 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:21:34.800 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:21:34.811 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:21:34.915 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:21:34.996 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:21:35.013 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:21:35.052 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:21:35.056 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:21:35.111 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:21:35.182 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:21:35.203 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:21:35.449 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:21:35.502 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (12ms) [Parameters=[@p0='cbf2f32a-5eb8-43ec-91fa-08d73adb160b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:21:34.800 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:21:34.8007248+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='f0849832-2acc-42f3-91fb-08d73adb160b', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:21:34.811 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:21:34.8115495+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='4c52d1a1-34bd-4377-91fc-08d73adb160b', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:21:35.052 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:21:35.0522373+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='e8cedf7b-cdc0-46b8-91fd-08d73adb160b', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:21:35.056 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:21:35.0566910+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='845f150e-5bf0-4e44-91fe-08d73adb160b', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:21:35.111 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:21:35.1115440+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74);
2019-09-16 19:21:36.019 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:21:36.539 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:21:36.574 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[@p0='2da26fac-9edc-42fd-91ff-08d73adb160b', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 19:21:36.019 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:21:36.0198768+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:21:36.621 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:22:16.320 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:22:16.967 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:22:17.113 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:22:17.113 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:22:17.539 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:22:17.548 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:22:17.564 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:22:17.584 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:22:17.640 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (61ms) [Parameters=[@p0='00a1a3d1-fdc9-4aee-498c-08d73adb2fe1', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:22:16.256 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:22:16.2566374+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:22:18.109 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:22:18.189 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:22:18.252 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:22:18.261 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:22:18.361 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:22:18.390 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:22:18.399 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:22:18.422 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:22:18.428 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:22:18.488 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:22:18.568 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:22:18.588 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:22:18.862 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:22:18.930 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (30ms) [Parameters=[@p0='da47bf8c-54b8-42ff-498d-08d73adb2fe1', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:22:18.252 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:22:18.2521266+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='972edcb5-abb0-448e-498e-08d73adb2fe1', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:22:18.261 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:22:18.2610249+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='64b174c1-fb90-498a-498f-08d73adb2fe1', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:22:18.422 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:22:18.4220722+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='5099b06d-95c8-4bd1-4990-08d73adb2fe1', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:22:18.428 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:22:18.4281931+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='de116e97-6cc8-40b9-4991-08d73adb2fe1', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:22:18.488 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:22:18.4881709+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74);
2019-09-16 19:22:19.516 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:22:19.960 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:22:20.002 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@p0='409afff8-d31a-4096-4992-08d73adb2fe1', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 19:22:19.516 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:22:19.5167643+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:22:20.035 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:24:57.138 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:24:57.911 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:24:58.085 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:24:58.085 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:24:58.566 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:24:58.579 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:24:58.593 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:24:58.613 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:24:58.735 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (112ms) [Parameters=[@p0='e57b8e17-dac5-4014-383c-08d73adb8fd8', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:24:57.057 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:24:57.0576165+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:24:59.294 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:24:59.377 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:24:59.515 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:24:59.525 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:24:59.646 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (5ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:24:59.686 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:24:59.699 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (7ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:24:59.749 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:24:59.757 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:24:59.834 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:24:59.931 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:24:59.962 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:25:00.033 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:25:00.087 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[@p0='d50f1f5e-2dd6-4102-383d-08d73adb8fd8', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:24:59.515 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:24:59.5150835+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='aca46cec-f6ae-4b45-383e-08d73adb8fd8', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:24:59.525 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:24:59.5253063+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='d68aca5d-6f76-4858-383f-08d73adb8fd8', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:24:59.749 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:24:59.7497765+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='40acf6bd-e647-41de-3840-08d73adb8fd8', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:24:59.756 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:24:59.7562925+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='05164060-3468-44ed-3841-08d73adb8fd8', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:24:59.834 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:24:59.8341568+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74);
2019-09-16 19:25:00.882 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:25:01.085 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:25:01.219 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[@p0='02b386bd-09cc-4a22-3842-08d73adb8fd8', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 19:25:00.882 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:25:00.8821963+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:25:01.471 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:26:02.736 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:26:03.872 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:26:04.112 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:04.112 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:04.703 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:26:04.714 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:26:04.728 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:26:04.746 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:26:04.857 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (122ms) [Parameters=[@p0='26da42ea-eccd-41a8-6415-08d73adbb732', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:26:02.627 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:26:02.6279486+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:26:05.364 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:26:05.472 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:26:05.537 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:26:05.546 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:26:05.746 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:26:05.839 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (25ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:26:05.858 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (9ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:26:05.986 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:26:05.990 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:26:06.069 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:06.165 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:26:06.171 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (34ms) [Parameters=[@p0='ee848f72-5eb1-4fcc-6416-08d73adbb732', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:26:05.537 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:26:05.5377641+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='956f9958-20a0-4e6c-6417-08d73adbb732', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:26:05.546 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:26:05.5464708+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='9c67c9d5-f948-4e2b-6418-08d73adbb732', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:26:05.986 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:26:05.9861359+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='dcd3ee18-9835-42d1-6419-08d73adbb732', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:26:05.990 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:26:05.9903087+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
2019-09-16 19:26:06.344 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:06.491 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:26:07.238 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:07.246 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@p0='840ec5df-2923-4026-641a-08d73adbb732', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:26:06.165 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:26:06.1654517+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:26:07.460 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:26:08.309 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:26:08.438 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[@p0='214859ae-f3bb-402d-641b-08d73adbb732', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p6='2019-09-16 19:26:07.460 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:26:07.4603343+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:26:08.496 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:27:01.945 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:27:02.259 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:27:02.320 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:02.509 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:27:02.515 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:27:02.523 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:27:02.536 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:27:02.715 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:03.049 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:27:03.189 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (28ms) [Parameters=[@p0='f6923e0d-eb33-4363-55ad-08d73adbda1e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:27:01.931 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:27:01.9310310+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:27:03.205 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:27:03.299 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:27:03.306 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:27:03.403 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:27:03.458 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:27:03.468 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:27:03.491 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:27:03.492 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:27:03.567 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:27:03.606 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:03.631 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:27:04.213 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:27:04.332 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:04.405 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (59ms) [Parameters=[@p0='f5255826-d244-4e26-55ae-08d73adbda1e', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:27:03.299 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:27:03.2992407+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='f523a2dc-c34a-4b84-55af-08d73adbda1e', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:27:03.306 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:27:03.3061161+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='3301c9d8-08c1-4e85-55b0-08d73adbda1e', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:27:03.491 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:27:03.4917104+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='5b385098-64f6-4ace-55b1-08d73adbda1e', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:27:03.492 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:27:03.4921278+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='96ac2cde-723b-415a-55b2-08d73adbda1e', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:27:03.567 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:27:03.5674123+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50), @p75='6b5e9afb-8081-4e57-55b3-08d73adbda1e', @p76='0', @p77='' (Size = 256), @p78='' (Size = 256), @p79='Information' (Nullable = false) (Size = 50), @p80='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p81='2019-09-16 19:27:04.213 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p82='' (Size = 256), @p83='' (Size = 256), @p84='2019-09-16T19:27:04.2132243+00:00', @p85='' (Size = 1024), @p86='' (Size = 50), @p87='' (Size = 256), @p88='' (Size = 256), @p89='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89);
2019-09-16 19:27:04.848 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:27:04.895 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:05.056 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 208.5451ms 500 text/html; charset=utf-8
2019-09-16 19:27:05.268 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/favicon.ico  
2019-09-16 19:27:05.273 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:05.300 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 32.85ms 500 text/html; charset=utf-8
2019-09-16 19:27:07.337 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:27:07.338 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:07.345 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 8.0757ms 500 text/html; charset=utf-8
2019-09-16 19:27:07.450 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/favicon.ico  
2019-09-16 19:27:07.451 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:07.461 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 10.7805ms 500 text/html; charset=utf-8
2019-09-16 19:27:07.706 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:27:07.708 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:07.717 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 10.4353ms 500 text/html; charset=utf-8
2019-09-16 19:27:07.784 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/favicon.ico  
2019-09-16 19:27:07.788 +00:00 [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware [UnhandledException] : An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DNTFrameworkCore.Web.Tenancy.Internal.TenantMiddleware.Invoke(HttpContext context) in C:\Projects\DNTFrameworkCore\src\DNTFrameworkCore.Web.Tenancy\Internal\TenantMiddleware.cs:line 25
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-16 19:27:07.800 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 15.464ms 500 text/html; charset=utf-8
2019-09-16 19:27:46.346 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
2019-09-16 19:27:46.781 +00:00 [Warning] Microsoft.EntityFrameworkCore.Model.Validation [Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning] : Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2019-09-16 19:27:46.844 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:46.980 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:27:46.984 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT OBJECT_ID(N'[dbo].[MigrationHistory]');
2019-09-16 19:27:46.990 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [MigrationId], [ProductVersion]
FROM [dbo].[MigrationHistory]
ORDER BY [MigrationId];
2019-09-16 19:27:47.000 +00:00 [Information] Microsoft.EntityFrameworkCore.Migrations [Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied] : No migrations were applied. The database is already up to date.
2019-09-16 19:27:47.107 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:47.611 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [r].[Id], [r].[CreationDateTime], [r].[CreatorBrowserName], [r].[CreatorIp], [r].[CreatorUserId], [r].[Description], [r].[ModificationDateTime], [r].[ModifierBrowserName], [r].[ModifierIp], [r].[ModifierUserId], [r].[Name], [r].[NormalizedName], [r].[Version]
FROM [Role] AS [r]
WHERE [r].[Name] = N'Administrators'
ORDER BY [r].[Id]
2019-09-16 19:27:47.666 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (39ms) [Parameters=[@p0='69fd961d-4497-4a34-dec7-08d73adbf492', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p6='2019-09-16 19:27:46.330 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrating database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:27:46.3307842+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2019-09-16 19:27:47.789 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [r.Permissions].[Id], [r.Permissions].[Discriminator], [r.Permissions].[IsGranted], [r.Permissions].[ModificationDateTime], [r.Permissions].[ModifierBrowserName], [r.Permissions].[ModifierIp], [r.Permissions].[ModifierUserId], [r.Permissions].[Name], [r.Permissions].[RoleId]
FROM [Permission] AS [r.Permissions]
INNER JOIN (
    SELECT TOP(1) [r0].[Id]
    FROM [Role] AS [r0]
    WHERE [r0].[Name] = N'Administrators'
    ORDER BY [r0].[Id]
) AS [t] ON [r.Permissions].[RoleId] = [t].[Id]
WHERE [r.Permissions].[Discriminator] = N'RolePermission'
ORDER BY [t].[Id]
2019-09-16 19:27:47.861 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
2019-09-16 19:27:47.865 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
2019-09-16 19:27:47.942 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT TOP(1) [u].[Id], [u].[CreationDateTime], [u].[CreatorBrowserName], [u].[CreatorIp], [u].[CreatorUserId], [u].[DisplayName], [u].[IsActive], [u].[LastLoggedInDateTime], [u].[ModificationDateTime], [u].[ModifierBrowserName], [u].[ModifierIp], [u].[ModifierUserId], [u].[NormalizedDisplayName], [u].[NormalizedUserName], [u].[PasswordHash], [u].[SerialNumber], [u].[UserName], [u].[Version]
FROM [User] AS [u]
WHERE [u].[NormalizedUserName] = @__ToUpperInvariant_0
ORDER BY [u].[Id]
2019-09-16 19:27:47.990 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Permissions].[Id], [u.Permissions].[Discriminator], [u.Permissions].[IsGranted], [u.Permissions].[ModificationDateTime], [u.Permissions].[ModifierBrowserName], [u.Permissions].[ModifierIp], [u.Permissions].[ModifierUserId], [u.Permissions].[Name], [u.Permissions].[UserId]
FROM [Permission] AS [u.Permissions]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [User] AS [u0]
    WHERE [u0].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.Permissions].[UserId] = [t].[Id]
WHERE [u.Permissions].[Discriminator] = N'UserPermission'
ORDER BY [t].[Id]
2019-09-16 19:27:47.998 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (4ms) [Parameters=[@__ToUpperInvariant_0='ADMIN' (Size = 256)], CommandType='Text', CommandTimeout='180']
SELECT [u.Roles].[Id], [u.Roles].[CreationDateTime], [u.Roles].[CreatorBrowserName], [u.Roles].[CreatorIp], [u.Roles].[CreatorUserId], [u.Roles].[RoleId], [u.Roles].[UserId]
FROM [UserRole] AS [u.Roles]
INNER JOIN (
    SELECT TOP(1) [u1].[Id]
    FROM [User] AS [u1]
    WHERE [u1].[NormalizedUserName] = @__ToUpperInvariant_0
    ORDER BY [u1].[Id]
) AS [t0] ON [u.Roles].[UserId] = [t0].[Id]
ORDER BY [t0].[Id]
2019-09-16 19:27:48.015 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
2019-09-16 19:27:48.015 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
2019-09-16 19:27:48.065 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
2019-09-16 19:27:48.096 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:48.212 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='180']
SELECT [k].[XmlValue]
FROM [dbo].[ProtectionKey] AS [k]
2019-09-16 19:27:48.741 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
2019-09-16 19:27:48.845 +00:00 [Information] Microsoft.EntityFrameworkCore.Infrastructure [Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized] : Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled CommandTimeout=180 MigrationsHistoryTable=dbo.MigrationHistory 
2019-09-16 19:27:48.860 +00:00 [Information] Microsoft.EntityFrameworkCore.Database.Command [Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted] : Executed DbCommand (6ms) [Parameters=[@p0='80fdcec9-7455-4345-dec8-08d73adbf492', @p1='0', @p2='' (Size = 256), @p3='' (Size = 256), @p4='Information' (Nullable = false) (Size = 50), @p5='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p6='2019-09-16 19:27:47.861 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Administrators role already exists.
' (Nullable = false) (Size = 4000), @p7='' (Size = 256), @p8='' (Size = 256), @p9='2019-09-16T19:27:47.8618999+00:00', @p10='' (Size = 1024), @p11='' (Size = 50), @p12='' (Size = 256), @p13='' (Size = 256), @p14='' (Size = 50), @p15='9f033ecb-8b41-40f6-dec9-08d73adbf492', @p16='0', @p17='' (Size = 256), @p18='' (Size = 256), @p19='Information' (Nullable = false) (Size = 50), @p20='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p21='2019-09-16 19:27:47.865 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: newPermissions: 
' (Nullable = false) (Size = 4000), @p22='' (Size = 256), @p23='' (Size = 256), @p24='2019-09-16T19:27:47.8656614+00:00', @p25='' (Size = 1024), @p26='' (Size = 50), @p27='' (Size = 256), @p28='' (Size = 256), @p29='' (Size = 50), @p30='41b6acdb-7c7f-449f-deca-08d73adbf492', @p31='0', @p32='' (Size = 256), @p33='' (Size = 256), @p34='Information' (Nullable = false) (Size = 50), @p35='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p36='2019-09-16 19:27:48.015 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already exists.
' (Nullable = false) (Size = 4000), @p37='' (Size = 256), @p38='' (Size = 256), @p39='2019-09-16T19:27:48.0152230+00:00', @p40='' (Size = 1024), @p41='' (Size = 50), @p42='' (Size = 256), @p43='' (Size = 256), @p44='' (Size = 50), @p45='f2c023b5-ee28-40d6-decb-08d73adbf492', @p46='0', @p47='' (Size = 256), @p48='' (Size = 256), @p49='Information' (Nullable = false) (Size = 50), @p50='DNTFrameworkCore.TestTenancy.Application.Common.DbSeed' (Nullable = false) (Size = 256), @p51='2019-09-16 19:27:48.015 +00:00 [Information] DNTFrameworkCore.TestTenancy.Application.Common.DbSeed [0] : Seed: Admin user already is assigned to Administrators role.
' (Nullable = false) (Size = 4000), @p52='' (Size = 256), @p53='' (Size = 256), @p54='2019-09-16T19:27:48.0156096+00:00', @p55='' (Size = 1024), @p56='' (Size = 50), @p57='' (Size = 256), @p58='' (Size = 256), @p59='' (Size = 50), @p60='1c15fa1b-51c2-44ad-decc-08d73adbf492', @p61='0', @p62='' (Size = 256), @p63='' (Size = 256), @p64='Information' (Nullable = false) (Size = 50), @p65='DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext' (Nullable = false) (Size = 256), @p66='2019-09-16 19:27:48.065 +00:00 [Information] DNTFrameworkCore.TestTenancy.Infrastructure.Context.ProjectDbContext [0] : Migrated database associated with context ProjectDbContext
' (Nullable = false) (Size = 4000), @p67='' (Size = 256), @p68='' (Size = 256), @p69='2019-09-16T19:27:48.0651850+00:00', @p70='' (Size = 1024), @p71='' (Size = 50), @p72='' (Size = 256), @p73='' (Size = 256), @p74='' (Size = 50), @p75='16ecc56d-df08-4d08-decd-08d73adbf492', @p76='0', @p77='' (Size = 256), @p78='' (Size = 256), @p79='Information' (Nullable = false) (Size = 50), @p80='DNTFrameworkCore.Web.Hosting.QueuedHostedService' (Nullable = false) (Size = 256), @p81='2019-09-16 19:27:48.741 +00:00 [Information] DNTFrameworkCore.Web.Hosting.QueuedHostedService [0] : Queued Hosted Service is starting.
' (Nullable = false) (Size = 4000), @p82='' (Size = 256), @p83='' (Size = 256), @p84='2019-09-16T19:27:48.7417945+00:00', @p85='' (Size = 1024), @p86='' (Size = 50), @p87='' (Size = 256), @p88='' (Size = 256), @p89='' (Size = 50)], CommandType='Text', CommandTimeout='180']
SET NOCOUNT ON;
INSERT INTO [dbo].[Log] ([Id], [EventId], [ImpersonatorTenantId], [ImpersonatorUserId], [Level], [LoggerName], [Message], [TenantId], [TenantName], [Timestamp], [UserBrowserName], [UserDisplayName], [UserIP], [UserId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89);
2019-09-16 19:27:49.509 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/index.html  
2019-09-16 19:27:50.031 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 522.3908ms 200 text/html
2019-09-16 19:27:50.264 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/swagger/v1/swagger.json  
2019-09-16 19:27:50.528 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 263.5009ms 200 application/json;charset=utf-8
2019-09-16 19:27:56.172 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [1] : Request starting HTTP/1.1 GET https://localhost:7001/api/FrontEnd/TenantInfo  
2019-09-16 19:27:56.177 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutingEndpoint] : Executing endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:27:56.215 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [3] : Route matched with {action = "TenantInfo", controller = "FrontEnd"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TenantInfo() on controller DNTFrameworkCore.TestTenancy.Controllers.FrontEndController (DNTFrameworkCore.TestTenancy).
2019-09-16 19:27:56.240 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [1] : Executing action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) - Validation state: Valid
2019-09-16 19:27:56.246 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action method DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4913ms.
2019-09-16 19:27:56.275 +00:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [1] : Executing ObjectResult, writing value of type 'DNTFrameworkCore.Tenancy.Tenant'.
2019-09-16 19:27:56.290 +00:00 [Information] Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [2] : Executed action DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy) in 73.0703ms
2019-09-16 19:27:56.291 +00:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware [ExecutedEndpoint] : Executed endpoint 'DNTFrameworkCore.TestTenancy.Controllers.FrontEndController.TenantInfo (DNTFrameworkCore.TestTenancy)'
2019-09-16 19:27:56.291 +00:00 [Information] Microsoft.AspNetCore.Hosting.Internal.WebHost [2] : Request finished in 119.3006ms 200 application/json; charset=utf-8
